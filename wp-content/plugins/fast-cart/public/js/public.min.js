/*!
 * Fast Cart for WooCommerce
 *
 * Author: WPXTension ( wpxtension@gmail.com )
 * Released under the GPLv3 license.
 */
!function(c){c(document).ready((function(){a()})),c(window).on("load",(function(){"yes"===fc_public_object.refresh_fragment_on_page_load&&c(document.body).trigger("wc_fragment_refresh")}));var t=".fc-container",e=".fc-content",o=0,r=function(e,o,r){"yes"===fc_public_object.open_on_ajax_cart&&(a(),i(),c(t).trigger("fc_after_loaded",[e,o,r]))};function a(){c(document.body).trigger("wc_fragment_refresh"),c(document.body).trigger("fc_cart_reload")}function n(t,e){c(".fc-icon-wrapper").hasClass("fc-floating-cart-hide")&&c(".fc-icon-wrapper").removeClass("fc-floating-cart-hide"),"yes"===fc_public_object.hide_on_empty_cart&&0===e.fc_cart_count&&c(".fc-icon-wrapper").addClass("fc-floating-cart-hide"),"yes"===fc_public_object.shake_effect&&e.fc_cart_count>0?c(".fc-icon-wrapper").addClass("fc-shake"):c(".fc-icon-wrapper").removeClass("fc-shake"),c(document.body).trigger("fc_cart_floating_icon_reload")}function i(){"yes"!==fc_public_object.overlay_layer?c(t).addClass("loaded"):c(t).css({opacity:"1"}),c(e).addClass(fc_public_object.position)}function _(){setTimeout((function(){c(t).hasClass("loaded")&&c(t).removeClass("loaded")}),500),c(e).removeClass(fc_public_object.position)}function f(){u();var c={action:"fc_empty_cart",empty_cart:!0,security:fc_public_object.nonce};jQuery.post(fc_public_object.ajax_url,c,(function(c){jQuery(document.body).trigger("removed_from_cart",[c.fragments,c.cart_hash])}))}function u(){c(".fc-item-wrapper").addClass("fc-item-wrapper-blur blockUI blockOverlay")}c(document.body).on("added_to_cart wc-blocks_added_to_cart",(function(c,t,e){r(c,t,e),n(c,t),o++})),c(document.body).on("removed_from_cart",(function(c,t,e){r(c,t,e),n(c,t),o++})),c(".fc-title-close").on("click",(function(c){_(),o--})),c(t).on("click",(function(o){if("close_on_outside_tray"===fc_public_object.close_behavior){var r=c(o.target);r.is(t)&&!r.is(e)&&_()}})),c(document).on("click touch",".fc-floating-cart-icon, .fc-menu-item a",(function(c){c.preventDefault(),"yes"!==fc_public_object.overlay_layer?i():0==o?(i(),o++):(_(),o--)})),c(document).on("click touch",".fc_remove",(function(t){t.preventDefault(),function(c){u();var t={action:"fc_remove_item",cart_item_key:c,security:fc_public_object.nonce};jQuery.post(fc_public_object.ajax_url,t,(function(t){jQuery(document.body).trigger("removed_from_cart",[t.fragments,t.cart_hash]),jQuery(document.body).trigger("fc_remove_item",[c,t])}))}(c(this).attr("data-cart_item_key"))})),c(document).on("click touch",".fc-cart-item-empty-cart",(function(c){if(c.preventDefault(),"yes"===fc_public_object.confirm_empty){if(!confirm(fc_public_object.confirm_empty_msg))return!1;f()}else f()})),c(document).on("change",".fc-woocommerce-cart-item .qty",(function(){!function(c,t){u();var e={action:"fc_update_qty",cart_item_key:c,cart_item_qty:t,security:fc_public_object.nonce};jQuery.post(fc_public_object.ajax_url,e,(function(e){a(),jQuery(document.body).trigger("fc_update_qty",[c,t])}))}(c(this).closest(".fc-qty-wrap").attr("data-key"),c(this).val())})),c(document).on("click","button.plus, button.minus",(function(){var t=c(this).closest(".fc-qty-wrap").find(".qty"),e=parseInt(t.val()),o=parseInt(t.attr("max")),r=parseInt(t.attr("min")),a=parseInt(t.attr("step"));c(this).is(".plus")?o&&o<=e?t.val(o):t.val(e+a):r&&r>=e?t.val(r):e>0&&t.val(e-a),t.trigger("change")}))}(jQuery);
